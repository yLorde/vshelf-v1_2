<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VShelf | Página Inicial</title>

    <link rel="stylesheet" href="./pages/styles/global.css">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="pages/scripts/popMessage.js"></script>
    <script src="pages/scripts/popMessageHref.js"></script>

    <script>
        fetch('http://localhost:1703/load-config').then(data => data.json()).then(data => {
            window.localStorage.setItem("tema", data.tema);
        });
    </script>

    <script src="./pages/scripts/main.js"></script>

    <script>
        function getProfile() {
            fetch('http://localhost:1703/load-homepage', {
                method: 'GET',
            })
                .then(response => response.json())
                .then(data => {
                    const tema = data.tema;
                    document.getElementById('window').innerHTML += popMessage(`Bem vindo(a), ${data.username}`, tema);

                    document.getElementById('window').innerHTML += popMessage('Aproveite nossa plataforma! Em breve terá mais funcionalidades.', tema);

                    document.getElementById('window').innerHTML += popMessageHref('Clique aqui para acessar as configurações.', './pages/app/config.html', tema);

                    document.getElementById('window').innerHTML += popMessage(
                        `Você está usando a versão: ${data.version}`, tema);
                });
        };

        window.onload = () => {
            getProfile();
        };
    </script>

    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
    </style>
</head>

<body>
    <!-- <div class="window" id="window">
    </div> -->

    <div class="container text-white">
        <div class="text-center mt-10">
            <h1 class="text-3xl">Hello, bem vindo ao VShelf 1.2.11</h1>
        </div>

        <div class="flex flex-row justify-center gap-5 mt-10">
            <button class="bg-black px-5 py-2 duration-200 rounded-md hover:bg-green-500 hover:text-black hover:duration-200" onclick="window.location.href='./pages/app/config.html'">Configurações</button>
            <button class="bg-black px-5 py-2 duration-200 rounded-md hover:bg-green-500 hover:text-black hover:duration-200" onclick="window.location.href='./pages/titulos/minhaLista.html'">Meus Títulos</button>
            <button class="bg-black px-5 py-2 duration-200 rounded-md hover:bg-green-500 hover:text-black hover:duration-200" onclick="window.location.href='./pages/titulos/addTitulo.html'">Adicionar Títulos</button>
            <button class="bg-black px-5 py-2 duration-200 rounded-md hover:bg-green-500 hover:text-black hover:duration-200" onclick="window.close()">Fechar Aplicativo</button>
        </div>

        <hr class="mt-10 bg-white w-[80%] flex justify-center m-auto">

        <div class="text-center mt-5">
            <p class="text-xl">Desenvolvido por <b class="text-green-500">ylorde.com.br</b></p>
            <p class="text-xl">Após um tempo com o projeto parado resolvemos retomar com novas atualizações já projetadas.</p>
        </div>
    </div>
</body>

</html>