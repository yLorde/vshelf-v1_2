<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VShelf | Minha Lista</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../styles/global.css">
    <script src="../scripts/main.js"></script>
    <style>
        html {
            scrollbar-color: #191924 #121214;
            scrollbar-width: thin;
        }

        #window {
            margin-bottom: 20px;
        }
    </style>
    <script src="../scripts/popMessage.js"></script>
    <script src="../scripts/loadFilmes.js"></script>
    <script src="../scripts/render.js"></script>
    <script src="../scripts/classificar.js"></script>
    <script src="../scripts/buscarFilme.js"></script>
    <script src="../scripts/removerFilme.js"></script>

</head>

<body>
    <div id="window">
        <header>
            <div class="flex items-center justify-center p-1 text-white">
                <div id="totalFilmes"></div>
                <script>
                    const localTotalFilmes = localStorage.getItem("filmes");
                    const total = JSON.parse(localTotalFilmes).length
                    window.document.querySelector('#totalFilmes').innerHTML += popMessage('Títulos registrados: ' + total, localStorage.getItem("tema"));
                </script>
            </div>
            <div class="flex items-center justify-center p-1">
                <div
                    class="flex flex-col gap-2 default-text max-w-xl w-full default-bg p-5 rounded-md mt-8 shadow-md hover:scale-105 hover:duration-150 duration-150">
                    <div class="flex">
                        <!-- <div
                            class="flex w-10 items-center justify-center rounded-tl-lg rounded-bl-lg backdrop-blur-md p-5">
                            <svg viewBox="0 0 20 20" aria-hidden="true"
                                class="pointer-events-none absolute w-5 fill-black transition">
                                <path
                                    d="M16.72 17.78a.75.75 0 1 0 1.06-1.06l-1.06 1.06ZM9 14.5A5.5 5.5 0 0 1 3.5 9H2a7 7 0 0 0 7 7v-1.5ZM3.5 9A5.5 5.5 0 0 1 9 3.5V2a7 7 0 0 0-7 7h1.5ZM9 3.5A5.5 5.5 0 0 1 14.5 9H16a7 7 0 0 0-7-7v1.5Zm3.89 10.45 3.83 3.83 1.06-1.06-3.83-3.83-1.06 1.06ZM14.5 9a5.48 5.48 0 0 1-1.61 3.89l1.06 1.06A6.98 6.98 0 0 0 16 9h-1.5Zm-1.61 3.89A5.48 5.48 0 0 1 9 14.5V16a6.98 6.98 0 0 0 4.95-2.05l-1.06-1.06Z">
                                </path>
                            </svg>
                        </div> -->
                        <input oninput="buscarFilme()" class="w-full default-bg default-text font-semibold outline-0"
                            placeholder="Buscar título" id="filme">

                    </div>
                </div>
            </div>
        </header>

        <main>
            <div id="filtro" class="flex items-center justify-center p-1">
                <div id="filtro-select"
                    class="flex flex-row cursor-pointer justify-between items-center gap-2 default-text max-w-xl w-full default-bg p-5 rounded-md mt-8 shadow-md hover:scale-105 hover:duration-150 duration-150">
                    <span onclick="filter = 'nome'; selectFilter('nome')" id="nome"
                        class="filter-select text-white bg-black rounded-md hover:duration-150 duration-150 p-2">Nome</span>
                    <span onclick="filter = 'tipo'; selectFilter('tipo')" id="tipo"
                        class="filter-select hover:text-white hover:bg-black hover:rounded-md hover:duration-150 duration-150 p-2">Tipo</span>
                    <span onclick="filter = 'genero'; selectFilter('genero')" id="genero"
                        class="filter-select hover:text-white hover:bg-black hover:rounded-md hover:duration-150 duration-150 p-2">Gênero</span>
                    <span onclick="filter = 'status'; selectFilter('status')" id="status"
                        class="filter-select hover:text-white hover:bg-black hover:rounded-md hover:duration-150 duration-150 p-2">Status</span>
                    <span onclick="filter = 'stream'; selectFilter('stream')" id="stream"
                        class="filter-select hover:text-white hover:bg-black hover:rounded-md hover:duration-150 duration-150 p-2">Stream</span>
                </div>

                <script>
                    function selectFilter(filter) {
                        document.getElementById('filme').value = '';
                        buscarFilme('#');

                        for (let i = 0; i < document.getElementsByClassName('filter-select').length; i++) {
                            document.getElementsByClassName('filter-select')[i].setAttribute('class', 'filter-select hover:text-white hover:bg-black hover:rounded-md hover:duration-150 duration-150 p-2');
                        };

                        document.getElementById(filter).setAttribute('class', 'filter-select text-white bg-black rounded-md hover:duration-150 duration-150 p-2');
                    };
                </script>
            </div>
            <div id="lista"></div>
        </main>
    </div>
</body>

</html>